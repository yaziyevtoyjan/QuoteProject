{"ast":null,"code":"import{useReducer,useCallback}from'react';function httpReducer(state,action){if(action.type==='SEND'){return{data:null,error:null,status:'pending'};}if(action.type==='SUCCESS'){return{data:action.responseData,error:null,status:'completed'};}if(action.type==='ERROR'){return{data:null,error:action.errorMessage,status:'completed'};}return state;}function useHttp(requestFunction){let startWithPending=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const[httpState,dispatch]=useReducer(httpReducer,{status:startWithPending?'pending':null,data:null,error:null});const sendRequest=useCallback(async function(requestData){dispatch({type:'SEND'});try{const responseData=await requestFunction(requestData);dispatch({type:'SUCCESS',responseData});}catch(error){dispatch({type:'ERROR',errorMessage:error.message||'Something went wrong!'});}},[requestFunction]);return{sendRequest,...httpState};}export default useHttp;","map":{"version":3,"names":["useReducer","useCallback","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","arguments","length","undefined","httpState","dispatch","sendRequest","requestData","message"],"sources":["C:/Users/User/Projects/test/src/components/hooks/use-http.js"],"sourcesContent":["import { useReducer, useCallback } from 'react';\n\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending',\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed',\n    };\n  }\n\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed',\n    };\n  }\n\n  return state;\n}\n\nfunction useHttp(requestFunction, startWithPending = false) {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'SEND' });\n      try {\n        const responseData = await requestFunction(requestData);\n        dispatch({ type: 'SUCCESS', responseData });\n      } catch (error) {\n        dispatch({\n          type: 'ERROR',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,WAAW,KAAQ,OAAO,CAE/C,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAEC,MAAM,CAAE,CAClC,GAAIA,MAAM,CAACC,IAAI,GAAK,MAAM,CAAE,CAC1B,MAAO,CACLC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,SACV,CAAC,CACH,CAEA,GAAIJ,MAAM,CAACC,IAAI,GAAK,SAAS,CAAE,CAC7B,MAAO,CACLC,IAAI,CAAEF,MAAM,CAACK,YAAY,CACzBF,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,WACV,CAAC,CACH,CAEA,GAAIJ,MAAM,CAACC,IAAI,GAAK,OAAO,CAAE,CAC3B,MAAO,CACLC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAEH,MAAM,CAACM,YAAY,CAC1BF,MAAM,CAAE,WACV,CAAC,CACH,CAEA,MAAO,CAAAL,KAAK,CACd,CAEA,QAAS,CAAAQ,OAAOA,CAACC,eAAe,CAA4B,IAA1B,CAAAC,gBAAgB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACxD,KAAM,CAACG,SAAS,CAAEC,QAAQ,CAAC,CAAGlB,UAAU,CAACE,WAAW,CAAE,CACpDM,MAAM,CAAEK,gBAAgB,CAAG,SAAS,CAAG,IAAI,CAC3CP,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IACT,CAAC,CAAC,CAEF,KAAM,CAAAY,WAAW,CAAGlB,WAAW,CAC7B,eAAgBmB,WAAW,CAAE,CAC3BF,QAAQ,CAAC,CAAEb,IAAI,CAAE,MAAO,CAAC,CAAC,CAC1B,GAAI,CACF,KAAM,CAAAI,YAAY,CAAG,KAAM,CAAAG,eAAe,CAACQ,WAAW,CAAC,CACvDF,QAAQ,CAAC,CAAEb,IAAI,CAAE,SAAS,CAAEI,YAAa,CAAC,CAAC,CAC7C,CAAE,MAAOF,KAAK,CAAE,CACdW,QAAQ,CAAC,CACPb,IAAI,CAAE,OAAO,CACbK,YAAY,CAAEH,KAAK,CAACc,OAAO,EAAI,uBACjC,CAAC,CAAC,CACJ,CACF,CAAC,CACD,CAACT,eAAe,CAClB,CAAC,CAED,MAAO,CACLO,WAAW,CACX,GAAGF,SACL,CAAC,CACH,CAEA,cAAe,CAAAN,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}