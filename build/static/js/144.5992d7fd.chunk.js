"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[144],{366:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(43);function o(t,e){return"SEND"===e.type?{data:null,error:null,status:"pending"}:"SUCCESS"===e.type?{data:e.responseData,error:null,status:"completed"}:"ERROR"===e.type?{data:null,error:e.errorMessage,status:"completed"}:t}const a=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,a]=(0,s.useReducer)(o,{status:e?"pending":null,data:null,error:null});return{sendRequest:(0,s.useCallback)((async function(e){a({type:"SEND"});try{const n=await t(e);a({type:"SUCCESS",responseData:n})}catch(n){a({type:"ERROR",errorMessage:n.message||"Something went wrong!"})}}),[t]),...n}}},989:(t,e,n)=>{n.d(e,{BC:()=>r,Ow:()=>i,dB:()=>o,kr:()=>c,zt:()=>a});const s="https://quotes-35d3e-default-rtdb.firebaseio.com";async function o(){const t=await fetch("".concat(s,"/quotes.json")),e=await t.json();if(!t.ok)throw new Error(e.message||"Could not fetch quotes.");const n=[];for(const s in e){const t={id:s,...e[s]};n.push(t)}return n}async function a(t){const e=await fetch("".concat(s,"/quotes/").concat(t,".json")),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not fetch quote.");return{id:t,...n}}async function c(t){const e=await fetch("".concat(s,"/quotes.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not create quote.");return null}async function r(t){const e=await fetch("".concat(s,"/comments/").concat(t.quoteId,".json"),{method:"POST",body:JSON.stringify(t.commentData),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not add comment.");return{commentId:n.name}}async function i(t){const e=await fetch("".concat(s,"/comments/").concat(t,".json")),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not get comments.");const o=[];for(const s in n){const t={id:s,...n[s]};o.push(t)}return o}},144:(t,e,n)=>{n.r(e),n.d(e,{default:()=>j});var s=n(43),o=n(323);const a="QuoteItem_item__GIrSl";var c=n(579);const r=t=>(0,c.jsxs)("li",{className:a,children:[(0,c.jsxs)("figure",{children:[(0,c.jsx)("blockquote",{children:(0,c.jsx)("p",{children:t.text})}),(0,c.jsx)("figcaption",{children:t.author})]}),(0,c.jsx)(o.N_,{className:"btn",to:"/quotes/".concat(t.id),children:"View Fullscreen"})]}),i="QuoteList_list__Y2mNT",d="QuoteList_sorting__T1CQ-",u=t=>{const e=(0,o.W6)(),n=(0,o.zy)(),a="asc"===new URLSearchParams(n.search).get("sort"),u=(l=t.quotes,h=a,l.sort(((t,e)=>h?t.id>e.id?1:-1:t.id<e.id?1:-1)));var l,h;return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("div",{className:d,children:(0,c.jsxs)("button",{onClick:()=>{e.push({pathname:n.pathname,search:"?sort=".concat(a?"desc":"asc")})},children:["Sort ",a?"Descending":"Ascending"]})}),(0,c.jsx)("ul",{className:i,children:u.map((t=>(0,c.jsx)(r,{id:t.id,author:t.author,text:t.text},t.id)))})]})};var l=n(366),h=n(989),m=n(149);const f="NoQuotesFound_noquotes__fysSk",p=()=>(0,c.jsxs)("div",{className:f,children:[(0,c.jsx)("p",{children:"No quotes found!"}),(0,c.jsx)(o.N_,{className:"btn",to:"/new-quote",children:"Add a Quote"})]}),j=()=>{const{sendRequest:t,status:e,data:n,error:o}=(0,l.A)(h.dB,!0);return(0,s.useEffect)((()=>{t()}),[t]),"pending"===e?(0,c.jsx)("div",{className:"centered",children:(0,c.jsx)(m.A,{})}):o?(0,c.jsx)("p",{className:"centered focused",children:o}):"completed"!==e||n&&0!==n.length?(0,c.jsx)("div",{children:(0,c.jsx)(u,{quotes:n})}):(0,c.jsx)(p,{})}}}]);
//# sourceMappingURL=144.5992d7fd.chunk.js.map